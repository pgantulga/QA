<app-navbar>
    <button color="accent"
            type="button"
            aria-label="Toggle sidenav"
            mat-icon-button
            (click)="drawer.toggle()"
            *ngIf="(isHandset$ | async) && !isPostPage">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
    </button>
</app-navbar>
<mat-sidenav-container class="sidenav-container">
    <mat-sidenav #drawer class="sidenav" [attr.role]="isPostPage ? 'directory' : 'navigation'" [opened]="isPostPage && !(isHandset$ | async)" [mode]="isPostPage ? 'side' : 'over'">
        <ng-container [ngSwitch]="isPostPage" >
            <ng-container *ngSwitchCase="true">
                <div class="post-list_container" *ngIf="posts | async as posts; else loading">
                    <ng-container *ngIf="posts.length; else noItems" >
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                        <post-list *ngFor="let item of posts; last as last"  [post]="item">
                            <mat-divider *ngIf="!last" post-divider ></mat-divider>
                        </post-list>
                    </ng-container>
                    <ng-template #noItems>Асуулт олдсонгүй</ng-template>
                </div>
                <ng-template #loading>
                    <div style="padding: 8px 22px" >
                        <p class="mat-caption">Ачааллаж байна. </p>
                    </div>
                </ng-template>
            </ng-container>
            <ng-container *ngSwitchCase="false">
                <p>Navigation</p>
            </ng-container>
        </ng-container>
    </mat-sidenav>
    <mat-sidenav-content [class.mat-sidenav-content-container]="!isPostPage">
        <div fxLayout="row">
            <div fxFlex></div>
            <div [class.container]="!isPostPage" fxLayout="row" style="">
                <sidebar *ngIf="!(isHandset$ | async) && !sidebarLogic"></sidebar>
                <div fxFlex class="container_content mat-elevation-z1">
                    <ng-content></ng-content>
                </div>
            </div>
            <div fxFlex></div>
        </div>
    </mat-sidenav-content>
</mat-sidenav-container>

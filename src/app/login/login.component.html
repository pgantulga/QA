<div class="login-background" fxLayout="column" fxLayoutAlign="center center">
    <div *ngIf="authService.user$ | async as user; else login">
        {{user | json}}
        <button mat-raised-button color="accent" (click)="authService.signOut()">Sign out</button>
    </div>
    <ng-template #login>
        <form (ngSubmit)="onSubmit()">
            <mat-card class="login-card" fxLayout="column">
                <div fxLayout="row" fxLayoutAlign="center center" class="logo-container">
                    <img src="../../assets/logo_noTitle.png" alt="Logo" class="logo">
                </div>
                <div class="social-login-container" fxLayout="column" fxLayoutAlign="center center">
                    <button mat-raised-button color="accent" (click)="loginWithGoogle()">Login with Google</button>
                    <p class="mat-caption" style="margin: 12px 0 12px 0">эсвэл</p>
                </div>
                <mat-form-field appearance="outline" color="accent">
                    <mat-label>Имэйл хаяг</mat-label>
                    <input matInput placeholder="Имэйл хаяг" [formControl]="email">
                    <mat-icon matSuffix class="formIcon">email</mat-icon>
                </mat-form-field>
                <mat-error *ngIf="email.touched" class="mat-caption">{{getEmailError()}}</mat-error>
                <mat-form-field appearance="outline" color="accent">
                    <mat-label>Нууц үг</mat-label>
                    <input matInput placeholder="Нууц үг" type="password" [formControl]="password">
                    <mat-icon matSuffix class="formIcon">lock</mat-icon>
                </mat-form-field>
                <mat-error *ngIf="password.touched" class="mat-caption">{{getPasswordError()}}</mat-error>
                <mat-card-actions [align]="'end'">
                    <button mat-button>Бүртгүүлэх</button>
                    <button mat-raised-button color="accent" type="submit">Нэвтрэх</button>
                </mat-card-actions>
            </mat-card>
        </form>
    </ng-template>
</div>


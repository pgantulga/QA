<detail-header id="header"></detail-header>
<div class="background-card" *ngIf="tagDetail$ | async as tagDetail">
    {{tagDetail.description}}
</div>
<ng-container *ngIf="authService.user$ async as user else noUser">
    
</ng-container>
<ng-template #noUser>
    <warn [articleId]="'bqOHqSFn2LikdjVOQ6py'" >
        <button mat-button (click)="goToLogin()">Нэвтрэх</button>
    </warn>
</ng-template>
<div fxLayout="row" fxLayoutAlign="space-between center" class="section-header">
    <p class="mat-subheading-2">Хэлэлцүүлгүүд</p>
    <mat-button-toggle-group name="posts" aria-label="sort">
        <mat-button-toggle *ngFor="let item of toggleMenu" (click)="changeSort(item)" [matTooltip]="item.name" matTooltipClass="tooltip">
            <mat-icon>{{item.icon}}</mat-icon>
        </mat-button-toggle>
    </mat-button-toggle-group>
</div>
<div *ngIf="filteredPosts else loading" style="position: relative">
    <div *ngIf="filteredPosts.length else empty">
        <post-list *ngFor="let item of filteredPosts; last as last" [post]="item"></post-list>
    </div>
    <ng-template #empty>
        <p>Хэлэлцүүлэг олдсонгүй</p>
    </ng-template>
</div>
<ng-container *ngIf="tagDetail$ | async as tagDetail">
    <mat-paginator [length]="tagDetail.totalUsed" [pageSize]="10" (page)="pageEvent = getItem($event)" style="background-color: transparent"></mat-paginator>
</ng-container>
<ng-template #loading>
    <post-list-ghost *ngFor="let item of [1,2,3,4,5,6,7,8,9,10]"></post-list-ghost>
    <!--    <div style="padding: 8px 22px;" fxLayout="row" fxLayoutAlign="center center">-->
    <!--        <mat-spinner color="accent" [diameter]="24"></mat-spinner>-->
    <!--    </div>-->
</ng-template>
<!--Need to create pagination-->
